{
    "criteria": {
        "damage_dealt": {
            "trigger": "minecraft:player_hurt_entity",
            "conditions": {
                "damage": {
                    "source_entity": {
                        "type": "minecraft:player",
                        "nbt": "{SelectedItem:{tag:{MaterialType:\"Melon\",ToolType:\"Sword\"}}}"
                    }
                }
            }
        }

    },
    "rewards": {
        "function": "spice_in_vanilla:items/melon_tools/sword"
    }
}